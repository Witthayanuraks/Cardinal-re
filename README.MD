#  ;LKS - Cyber Security Backend (CTF System) [  UNFINISHED ]
# KEEP IT THIS IF WANT CONTRIBUTION 

```
git clone https://github.com/Witthayanuraks/Cardinal-re
```

Backend ini adalah sistem untuk **Capture The Flag (CTF)** berbasis **Golang (Gin Framework)** dan **PostgreSQL**.  
Mendukung **login dengan JWT**, **leaderboard**, **manajemen tim & tantangan**, serta **monitoring sistem**.

---

## ğŸš€ **Fitur**
- âœ… **Login & Register** dengan hashing password menggunakan **bcrypt**  
- âœ… **Autentikasi JWT** untuk akses API  
- âœ… **Leaderboard** berdasarkan skor tim  
- âœ… **Manajemen Tim** (Menambahkan tim dengan token unik)  
- âœ… **Manajemen Soal/Tantangan** (Soal dengan flag & poin)  
- âœ… **Monitoring Sistem** (CPU, Memori, & Koneksi jaringan)

---

## ğŸ“Œ **Struktur Direktori**
```
project/
â”‚â”€â”€ internal/
â”‚   â”œâ”€â”€ handlers/            # Berisi handler API
â”‚   â”‚   â”œâ”€â”€ auth.go          # Login & register
â”‚   â”‚   â”œâ”€â”€ leaderboard.go   # Leaderboard
â”‚   â”‚   â”œâ”€â”€ team.go          # Manajemen tim
â”‚   â”œâ”€â”€ models/              # Model database
â”‚   â”‚   â”œâ”€â”€ database.go      # Koneksi database
â”‚   â”‚   â”œâ”€â”€ user.go          # Model user
â”‚   â”‚   â”œâ”€â”€ team.go          # Model tim
â”‚   â”‚   â”œâ”€â”€ challenge.go     # Model tantangan
â”‚   â”œâ”€â”€ middleware/          # Middleware JWT
â”‚   â”‚   â”œâ”€â”€ auth_middleware.go 
â”‚â”€â”€ main.go                  # Entry point server
â”‚â”€â”€ .env                     # Environment variables
â”‚â”€â”€ go.mod                    # Dependencies Golang
â”‚â”€â”€ go.sum
â”‚â”€â”€ README.md                 # Dokumentasi
```

---

## âš™ **Instalasi & Konfigurasi**
### **1ï¸âƒ£ Clone Repository**
```sh
git clone https://github.com/your-repo/ctf-backend.git
cd ctf-backend
```

### **2ï¸âƒ£ Setup Database PostgreSQL**
Buat database dan tabel dengan perintah berikut:
```sql
CREATE DATABASE ctf_db;

CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    role VARCHAR(20) CHECK (role IN ('admin', 'user')) NOT NULL
);

CREATE TABLE teams (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) UNIQUE NOT NULL,
    token VARCHAR(255) NOT NULL,
    score INT DEFAULT 0
);

CREATE TABLE challenges (
    id SERIAL PRIMARY KEY,
    title VARCHAR(100) NOT NULL,
    flag TEXT NOT NULL,
    points INT NOT NULL
);
```

### **3ï¸âƒ£ Konfigurasi `.env`**
Buat file **.env** dan isi dengan konfigurasi database:
```
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=yourpassword
DB_NAME=ctf_db
SECRET_KEY=your_secret_key
```

### **4ï¸âƒ£ Install Dependency**
Jalankan perintah berikut untuk menginstal semua package yang diperlukan:
```sh
go mod tidy
```

### **5ï¸âƒ£ Jalankan Server**
```sh
go run main.go
```
API akan berjalan di **http://localhost:8080**

---

## ğŸ“Œ **Endpoint API**
| Method | Endpoint           | Deskripsi              | Autentikasi |
|--------|-------------------|----------------------|-------------|
| POST   | `/api/login`      | Login user          | âŒ |
| POST   | `/api/register`   | Register user       | âŒ |
| GET    | `/api/leaderboard` | Ambil leaderboard    | âœ… |
| POST   | `/api/add-team`   | Tambah tim baru      | âœ… |
| POST   | `/api/add-challenge` | Tambah soal tantangan | âœ… |

### **Contoh JSON Login**
**Request:**  
```json
{
  "username": "admin",
  "password": "password123"
}
```
**Response (Success):**  
```json
{
  "token": "eyJhbGciOiJIUzI1..."
}
```

---

## ğŸ“¦ **Library & Dependencies**
Berikut adalah daftar library yang digunakan dalam project ini:
| Library | Kegunaan |
|---------|----------|
| [Gin](https://github.com/gin-gonic/gin) | Web framework untuk Golang |
| [PostgreSQL Driver](https://github.com/lib/pq) | Driver PostgreSQL |
| [Bcrypt](https://pkg.go.dev/golang.org/x/crypto/bcrypt) | Hashing password |
| [JWT-Go](https://github.com/dgrijalva/jwt-go) | Autentikasi dengan JWT |

---

## ğŸ’¡ **Fitur Selanjutnya**
- ğŸ”œ Reset Password  
- ğŸ”œ Mode Live Monitoring  

ğŸ“¢ Jika ada bug atau ide fitur baru, silakan **open issue** di repo ini.  
ğŸš€ **Enjoy Coding!** ğŸ”¥
